<% provide :title, t("admin.categories.show.title") %>
<div class="col-md-9 col-sm-12">
  <h1 class="text-center"><%= t ".header" %> <%= @category.name %></h1>
  <div class="row">
    <div class="col-md-9 form-group">
      <%= form_tag admin_category_path(@category), method: :get, id: "search",
        class: "form-inline" do %>
        <%= render "admin/shared/search_form" %>
      <% end %>
    </div>
    <div class="col-md-3 form-group">
      <div class="row">
        <div class="col-md-6 modal-button">
          <button type="button" class="form-control btn-danger btnSearch" id="btnAdd"
            data-toggle="modal" data-target="#new-word-modal"><%= t ".add" %>
          </button>
        </div>
        <div class="col-md-6 modal-button modal-export">
          <a href="<%= admin_csv_index_path(format: "csv") %>">
            <button type="button" class="btn btn-warning btnSearch">
              <i class="fa fa-download "></i> <%= t "admin.categories.show.export_file" %>
            </button>
          </a>
        </div>
      </div>
      <div id="new-word-modal" class="modal fade" role="form">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" id="close_modal" data-dismiss="modal">&times;</button>
              <h4 class="modal-title"><%= t ".add_header" %><%= @category.name %></h4>
            </div>
            <div class="modal-body">
              <%= form_for [:admin, @word], remote: true do |f| %>
                <%= render "shared/error_messages", object: f.object %>
                <div class="panel panel-body pnl-word">
                  <legend><%= t ".legend_word" %></legend>
                  <fieldset>
                    <%= f.label :content %>
                    <%= f.text_field :content, class: "form-control" %>
                    <%= f.hidden_field :category_id, value: @category.id %>
                  </fieldset>
                </div>
                <div class="panel panel-body pnl-word" id="answer-pnl">
                  <legend><%= t "answers" %> <%= link_to_add_fields "", f, :answers %>
                  </legend>
                  <%= f.fields_for :answers, Answer.new do |builder| %>
                    <%= render "admin/words/answer_fields", f: builder %>
                  <% end %>
                </div>
                <%= f.submit t(".add_submit"), class: "btn btn-primary",
                  id: "new-word" %>
              <% end %>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">
                <%= t ".add_close" %>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="panel panel-default">
    <table id="words-table" class="table table-hover table-bordered">
      <thead>
      <tr class="header-table">
        <th class="text-center">
          <i class="fa fa-hashtag"></i>
          <%= t "admin.users.index.number" %>
        </th>
        <th class="text-center">
          <i class="fa fa-language"></i>
          <%= t ".content" %>
        </th>
        <th class="text-center">
          <i class="fa fa-clock-o"></i>
          <%= t"admin.categories.index.created_at" %>
        </th>
        <th class="text-center">
          <i class="fa fa-cog"></i>
          <%= t "admin.users.index.option" %>
        </th>
      </tr>
      </thead>
      <tbody id="result_search">
      <%= render @words %>
      </tbody>
    </table>
  </div>
  <%= will_paginate @words, class: "paginate" %>
</div>
